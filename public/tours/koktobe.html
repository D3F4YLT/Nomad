<!DOCTYPE html>
<html lang="ru">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title data-i18n="koktobe"></title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .slider {
      position: relative;
      max-width: 900px;
      height: 500px;
      margin: 30px auto;
      border: 2px solid #ffd700;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
    }
    .slides img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }
    .slides img.active {
      opacity: 1;
    }
    .prev, .next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.4);
      color: #ffd700;
      border: none;
      padding: 12px 18px;
      cursor: pointer;
      font-size: 22px;
      border-radius: 50%;
      transition: background 0.3s, transform 0.2s;
      z-index: 10;
    }
    .prev:hover, .next:hover {
      background: rgba(255, 215, 0, 0.6);
      color: #000;
      transform: translateY(-50%) scale(1.1);
    }
    .prev { left: 15px; }
    .next { right: 15px; }

    .weather-box {
      margin: 30px auto;
      padding: 20px;
      border: 1px solid #ffd700;
      border-radius: 10px;
      text-align: center;
      background: #222;
      width: 400px;
    }
    .weather-box h3 {
      margin-bottom: 10px;
      color: #ffd700;
    }
  </style>
</head>
<body>
<header>
  <div class="container navbar">
    <nav>
      <a href="../index.html" data-i18n="nav_home"></a>
      <a href="../about.html" data-i18n="nav_about"></a>
      <a href="../contacts.html" data-i18n="nav_contacts"></a>
    </nav>
    <div class="lang-switch">
      <button id="langRu">RU</button>
      <button id="langEn">EN</button>
    </div>
  </div>
</header>

<div class="container">
  <h1 data-i18n="koktobe"></h1>

  <div class="slider">
    <div class="slides">
      <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/e4/4e/95/kok-tobe-hill.jpg?w=1200&h=1200&s=1" class="active">
      <img src="https://qazaqstan3d.kz/wp-content/uploads/2021/09/Almaty-Kok-Tobe-2.jpg">
      <img src="https://welcome.kz/upload/iblock/682/682fd0e6c8c7a7bda602e582baa2f381.jpg">
      <img src="https://almaty.tv/news_photo/1658393105_news_b.jpeg">
    </div>
    <button class="prev"><i class="fas fa-chevron-left"></i></button>
    <button class="next"><i class="fas fa-chevron-right"></i></button>
  </div>

  <p data-i18n="koktobe_desc"></p>

  <div class="weather-box">
    <h3>Погода на Кок-Тобе</h3>
    <p id="weather">Загрузка...</p>
  </div>
</div>

<footer>
  <p>© 2025 Nomad Elite Travel</p>
  <div class="footer-content">
    <a href="https://www.instagram.com/mad4error/"><i class="fab fa-instagram"></i></a>
    <a href="https://wa.me/77767679591"><i class="fab fa-whatsapp"></i></a>
    <a href="https://snapchat.com/t/Cqsk5p3j"><i class="fab fa-snapchat"></i></a>
    <a href="https://www.facebook.com/people/Akmels-Galymzhan/pfbid0vpmCv8y9qNzcDWWVwEgpsadu8pV4GWTUFUuMfHfbtBhf1vWvULS7JWgDjWVhCSMNl/?mibextid=wwXIfr"><i class="fab fa-facebook"></i></a>
  </div>
</footer>

<script src="../js/lang.js"></script>

<script>
const slides = document.querySelectorAll('.slides img');
const prev = document.querySelector('.prev');
const next = document.querySelector('.next');
let index = 0;
let interval;

function showSlide(i) {
  slides.forEach(slide => slide.classList.remove('active'));
  slides[i].classList.add('active');
}
function nextSlide() {
  index = (index + 1) % slides.length;
  showSlide(index);
}
function prevSlide() {
  index = (index - 1 + slides.length) % slides.length;
  showSlide(index);
}
function startAutoSlide() {
  interval = setInterval(nextSlide, 4000);
}
function stopAutoSlide() {
  clearInterval(interval);
}
next.addEventListener('click', () => {
  stopAutoSlide(); nextSlide(); startAutoSlide();
});
prev.addEventListener('click', () => {
  stopAutoSlide(); prevSlide(); startAutoSlide();
});
showSlide(index);
startAutoSlide();

async function loadWeather() {
  try {
    // Координаты Кок-Тобе (Алматы)
    const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=43.25&longitude=76.95&current_weather=true');
    const data = await res.json();
    const w = data.current_weather;
    document.getElementById('weather').textContent =
      `${w.temperature}°C, ветер ${w.windspeed} км/ч`;
  } catch {
    document.getElementById('weather').textContent = 'Ошибка загрузки погоды';
  }
}
loadWeather();
</script>
</body>
</html>
